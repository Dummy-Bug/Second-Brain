[[04 Base Encodings.pdf]]
## Core idea (why bases matter)

> The **more symbols a number system has**, the **fewer characters** you need to represent the same value.

### Example

|Number system|Symbols|Representation of 8|
|---|---|---|
|Binary (base-2)|`0,1`|`1000` (4 chars)|
|Decimal (base-10)|`0–9`|`8` (1 char)|
|Hex (base-16)|`0–9A–F`|`8` (1 char)|

Same value, different bases, different length.

---

## Applying this to BIGINT

### The problem we had

A signed BIGINT max value:

`9,223,372,036,854,775,807   (19 digits)`

As a URL:

`https://s.io/9223372036854775807`

Too long. Bad UX.

---

## Base encoding the BIGINT

Instead of storing the number in **base-10**, we **encode it in a higher base**.

### Base64 character set (typical)

`A–Z a–z 0–9 + /`

Total symbols: **64**

---

### Length comparison

|Encoding|Approx length|
|---|---|
|Decimal (base-10)|19 chars|
|Hex (base-16)|16 chars|
|Base64|~11 chars|

Example:

`9223372036854775807 (decimal) → gP9QK2D2z0f (base64-like)`

Now the URL looks like:

`https://s.io/gP9QK2D2z0f`

Much shorter.

---

## How this would work in a URL shortener

### Flow

1. DB generates BIGINT ID: `9223372036854775807`
    
2. Encode ID using Base64
    
3. Expose encoded value as short URL
    
4. On request:
    - Decode Base64 → BIGINT
    - Fetch row by primary key

No extra column. No random generator.

This is **legitimate engineering**, not a hack.


---

# Problems

1. URL-unsafe characters (critical)

Base64 includes:

`+  /`

These:

- Need URL encoding (`%2B`, `%2F`)
    
- Break clean path segments
    
- Cause routing ambiguity
    

Example:

`/a+b/c`

This is no longer a single identifier.

---

## 2. Case sensitivity issues

Base64 is:

- Case-sensitive (`A` ≠ `a`)
    

Problems:

- Humans mistype
    
- Some systems normalize case
    
- Harder to read verbally


---

## 3. Still predictable

Base encoding ≠ obfuscation.

Sequential IDs:

`123 → d3 124 → d4 125 → d5`

Attackers can still:

- Enumerate
    
- Scrape
    
- Crawl

You’ve reduced length, not risk.